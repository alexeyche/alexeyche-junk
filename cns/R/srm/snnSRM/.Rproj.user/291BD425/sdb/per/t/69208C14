{
    "contents" : "#!/usr/bin/RScript\n\nsource('srm_funcs.R')\n\nconstants = list(e0=e0, ts=ts, tm=tm, u_abs=u_abs, u_r=u_r, trf=trf, trs=trs, dr=dr, alpha=alpha, beta=beta, tr=tr, u_rest=u_rest)\n\nneuron = setRefClass(\"neuron\", fields = list(w = \"vector\", id_conn = \"vector\", id = \"vector\"),\n                                methods = list( \n                                u = function(t, net) {\n                                    USRM(t, constants, id, id_conn, w, net)\n                                    #e_syn= sapply(net[id_conn], function(sp) sum(epsp(t-sp)))\n                                    #u_rest + sum(w*e_syn) + sum(nu(t-net[[id]]))\n                                },\n                                p = function(t, net) {\n                                    g(u(t,net))\n                                },\n                                get_id = function() {\n                                  id\n                                }))\n\n\ntest = function() {\n    net <- list()\n    net[[1]] <- c(10, 11, 12)\n    net[[2]] <- c(5, 5, 5)\n    net[[3]] <- c(1, 2, 3)\n\n\n    n1 = neuron(w = c(1, 1, 1), id_conn = c(2,3), id = 1)\n    n2 = neuron(w = c(1, 1, 1), id_conn = c(1,2), id = 2)\n    n3 = neuron(w = c(1, 1, 1), id_conn = c(1,3), id = 3)\n\n    uu <- c()\n    for(t in seq(1, 100)) {\n        uu <- c(uu, n1$u(t, net))\n    }\n    plot(uu, type=\"l\")\n}\n",
    "created" : 1389013990305.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3640138376",
    "id" : "69208C14",
    "lastKnownWriteTime" : 1389180555,
    "path" : "~/prog/alexeyche-junk/cns/R/srm/new/neuron.R",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}