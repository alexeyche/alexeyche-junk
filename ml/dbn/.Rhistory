?rbinom
melt
??melt
ggplot2
require(ggplot2)
install.packages('ggplot2')
install.packages('reshape')
melt
require(reshape)
melt(c(c(1,1,1),c(1,1,1),c(1,1,1)))
melt(matrix(rep(c(1,1,1),3), nrow=3))
#!/usr/bin/RScript
source('rbm.R')
source('sys.R')
source('makebatches.R')
source('dbn_util.R')
set.seed(2)
num.vis <- 50
num.hid <- 10
num.dims <- num.vis
train.params = list(e.w = 0.1, e.v = 0.1, e.h = 0.1, w_cost = 0.0002,
init.moment = 0.5, fin.moment = 0.9,
epochs = 50, cd.iter = 1)
num.cases <- 100
batch.size <- 10
# gen data
data.all <- NULL
for(c in 1:num.cases) {
m <- matrix(0, ncol = num.dims)
rb <- rbinom(50,50,0.9)
rb2 <- rbinom(50,50,0.1)
for(i in 1:length(rb)) {
m[rb[i]] = m[rb[i]]+1
m[rb2[i]] = m[rb2[i]]+1
}
m <- m/max(m)
data.all <- rbind(data.all, m)
}
data.all
data.all[,1]
density(data.all[1,])
plot(density(data.all[1,]))
source('~/prog/alexeyche-junk/ml/dbn/rbm_toy.R', echo=TRUE)
setwd("~/prog/alexeyche-junk/ml/dbn")
source('~/prog/alexeyche-junk/ml/dbn/rbm_toy.R', echo=TRUE)
daydream(model)
daydream(model)
